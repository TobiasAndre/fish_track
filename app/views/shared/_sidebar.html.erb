<!-- Mobile overlay + drawer -->
<div data-sidebar-target="overlay" class="hidden fixed inset-0 z-40 lg:hidden">
  <div class="absolute inset-0 bg-black/50" data-action="click->sidebar#closeMobile"></div>

  <aside class="absolute left-0 top-0 h-full w-72
                bg-white dark:bg-gray-900
                border-r border-gray-200 dark:border-gray-800
                shadow-xl p-4"
         aria-label="Mobile navigation menu">
    <div class="flex items-center justify-between mb-6">
      <span class="font-semibold text-gray-800 dark:text-gray-100">MyApp</span>
      <button
        class="p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition"
        data-action="click->sidebar#closeMobile"
        aria-label="Close menu"
        title="Close menu"
      >
        âœ•
      </button>
    </div>

    <nav class="space-y-1" aria-label="Mobile navigation">
      <%= link_to dashboard_path,
        class: "flex items-center gap-3 px-3 py-2 rounded-lg
                text-gray-700 dark:text-gray-200
                hover:bg-gray-100 dark:hover:bg-gray-800 transition" do %>
        <span>ğŸ </span><span>Dashboard</span>
      <% end %>

      <%= link_to "#",
        class: "flex items-center gap-3 px-3 py-2 rounded-lg
                text-gray-700 dark:text-gray-200
                hover:bg-gray-100 dark:hover:bg-gray-800 transition" do %>
        <span>ğŸ“¦</span><span>Projects</span>
      <% end %>

      <%= link_to edit_user_registration_path,
        class: "flex items-center gap-3 px-3 py-2 rounded-lg
                text-gray-700 dark:text-gray-200
                hover:bg-gray-100 dark:hover:bg-gray-800 transition" do %>
        <span>ğŸ‘¤</span><span>Profile</span>
      <% end %>

      <div class="pt-2 border-t border-gray-200 dark:border-gray-800"></div>

      <%= button_to destroy_user_session_path,
        method: :delete,
        class: "w-full flex items-center gap-3 px-3 py-2 rounded-lg
                text-left text-red-600 dark:text-red-400
                hover:bg-red-50 dark:hover:bg-red-950 transition" do %>
        <span>ğŸšª</span><span>Logout</span>
      <% end %>
    </nav>
  </aside>
</div>

<!-- Desktop sidebar -->
<aside
  data-sidebar-target="sidebar"
  class="hidden lg:flex flex-col
         w-64
         bg-white dark:bg-gray-900
         border-r border-gray-200 dark:border-gray-800
         transition-all duration-200"
  aria-label="Desktop navigation menu"
>
  <div class="h-16 px-4 flex items-center justify-between border-b border-gray-200 dark:border-gray-800">
    <span class="font-semibold text-gray-800 dark:text-gray-100" data-sidebar-target="label">
      Fish Track
    </span>

   <button
      data-action="click->sidebar#toggleCollapse"
      class="p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition cursor-pointer"
      aria-label="Toggle sidebar"
      title="Toggle sidebar"
    >
      <svg
        data-sidebar-target="collapseIcon"
        class="w-5 h-5 text-gray-700 dark:text-gray-200 transition-transform"
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
      >
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M4 6h16M4 12h16M4 18h16" />
      </svg>
    </button>
  </div>

  <nav class="p-3 space-y-1 flex-1" aria-label="Desktop navigation">
    <%= link_to root_path,
      class: "flex items-center gap-3 px-3 py-2 rounded-lg
              text-gray-700 dark:text-gray-200
              hover:bg-gray-100 dark:hover:bg-gray-800 transition" do %>

     <svg class="w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor">
       <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
            d="M3 3v18h18M4 14l4-4 4 3 6-7" />
     </svg>

      <span data-sidebar-target="label" class="text-sm font-medium">
        Dashboard
      </span>
    <% end %>

    <%= link_to(edit_company_path(current_user.company),
      class: "flex items-center gap-3 px-3 py-2 rounded-lg
              text-gray-700 dark:text-gray-200
              hover:bg-gray-100 dark:hover:bg-gray-800 transition") do %>

      <svg class="w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M4 21V7a2 2 0 0 1 2-2h6v16" />
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M14 21V3h4a2 2 0 0 1 2 2v16" />
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M8 9h1M8 13h1M16 9h1M16 13h1" />
      </svg>

      <span data-sidebar-target="label" class="text-sm font-medium">Empresa</span>
    <% end %>

    <%= link_to(units_path,
      class: "flex items-center gap-3 px-3 py-2 rounded-lg
              text-gray-700 dark:text-gray-200
              hover:bg-gray-100 dark:hover:bg-gray-800 transition") do %>

      <svg class="w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M12 21s7-4.5 7-11a7 7 0 0 0-14 0c0 6.5 7 11 7 11z" />
        <circle cx="12" cy="10" r="2" stroke-width="2" />
      </svg>

      <span data-sidebar-target="label" class="text-sm font-medium">Unidades</span>
    <% end %>

    <%= link_to ponds_path,
      class: "flex items-center gap-3 px-3 py-2 rounded-lg
              text-gray-700 dark:text-gray-200
              hover:bg-gray-100 dark:hover:bg-gray-800 transition" do %>

      <svg class="w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M12 3s6 6 6 11a6 6 0 0 1-12 0c0-5 6-11 6-11z" />
      </svg>

      <span data-sidebar-target="label" class="text-sm font-medium">AÃ§udes</span>
    <% end %>

    <%= link_to batches_path,
      class: "flex items-center gap-3 px-3 py-2 rounded-lg
              text-gray-700 dark:text-gray-200
              hover:bg-gray-100 dark:hover:bg-gray-800 transition" do %>

      <!-- Lotes icon -->
      <svg class="w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M20 7l-8-4-8 4m16 0v10l-8 4-8-4V7m16 0l-8 4-8-4" />
      </svg>

      <span data-sidebar-target="label" class="text-sm font-medium">
        Lotes
      </span>
    <% end %>

    <%= link_to financial_entries_path,
      class: "flex items-center gap-3 px-3 py-2 rounded-lg
              text-gray-700 dark:text-gray-200
              hover:bg-gray-100 dark:hover:bg-gray-800 transition" do %>

      <svg class="w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M3 7h18v10H3V7z" />
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M3 10h18" />
      </svg>

      <span data-sidebar-target="label" class="text-sm font-medium">
        Financeiro
      </span>
    <% end %>
  </nav>

  <div class="p-3 border-t border-gray-200 dark:border-gray-800">
    <%= button_to destroy_user_session_path,
      method: :delete,
      class: "w-full flex items-center gap-3 px-3 py-2 rounded-lg
              text-red-600 dark:text-red-400 cursor-pointer
              hover:bg-red-50 dark:hover:bg-red-950 transition text-left" do %>

      <!-- Logout icon -->
      <svg class="w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M15 12H3" />
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M7 8l-4 4 4 4" />
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M21 3v18" />
      </svg>

      <span data-sidebar-target="label" class="text-sm font-medium">
        Logout
      </span>
    <% end %>
  </div>
</aside>